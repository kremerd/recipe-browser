<h2>{{ title }}</h2>
<form [formGroup]="recipeForm" (submit)="saveRecipe()">
  <mat-form-field>
    <mat-label>Titel</mat-label>
    <input matInput type="text" formControlName="title" />
  </mat-form-field>

  <rec-tag-input formControlName="tags"></rec-tag-input>

  <mat-form-field>
    <mat-label>Beschreibung</mat-label>
    <textarea
      matInput
      type="text"
      rows="15"
      formControlName="description"
    ></textarea>
  </mat-form-field>

  <fieldset formGroupName="ingredients">
    <legend>Zutaten</legend>
    @for (ingredient of recipeForm.controls.ingredients.controls; track
    ingredient) {
    <div>
      <rec-ingredient-input [formControlName]="$index"></rec-ingredient-input>
      <button matButton type="button" (click)="removeIngredient($index)">
        <mat-icon fontIcon="delete"></mat-icon>
        Zutat entfernen
      </button>
    </div>
    }
    <div class="button-container">
      <button matButton type="button" (click)="addIngredient()">
        <mat-icon fontIcon="add"></mat-icon> Zutat hinzuf√ºgen
      </button>
    </div>
  </fieldset>

  <div class="button-container">
    <button matButton="tonal" type="button" routerLink="..">Abbrechen</button>
    <button matButton="filled" type="submit">Speichern</button>
  </div>
</form>
